---
import '../styles/index.css'
import '../styles/theme.css'
import '../styles/animation.css'
import BaseHead from '@src/components/seo/BaseHead.astro'
import Header from '@components/header/Header.astro'
import Footer from '@components/footer/Footer.astro'
import BtnTop from '@src/components/ui/BtnTop.astro'
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts'
import SpriteProvider from 'node_modules/astro-icon/lib/SpriteProvider.astro'

const title = Astro.props.title || `${SITE_TITLE} - Osobní web & blog`
---

<html lang="en" class="scroll-smooth">
  <head>
    <BaseHead title={title} description={SITE_DESCRIPTION} />
  </head>
  <body class="relative flex min-h-screen w-full flex-col bg-primary font-sans text-primary_text">
    <SpriteProvider>
      <Header />
      <main class="flex flex-1">
        <slot />
      </main>
      <Footer />
      <BtnTop />
    </SpriteProvider>
    <script is="inline">
      const selectedTheme = localStorage.getItem('selectedTheme')
      if (selectedTheme) {
        document.documentElement.setAttribute('data-theme', selectedTheme)
      } else {
        const defaultTheme = 'modrá'
        document.documentElement.setAttribute('data-theme', defaultTheme)
        localStorage.setItem('selectedTheme', defaultTheme)
      }
    </script>
  </body>
</html>
