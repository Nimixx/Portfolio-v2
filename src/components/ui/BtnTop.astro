---
import { Sprite } from "astro-icon";
---

<button
  class="p-2 rounded-lg bg-primary_gray/20 border border-primary_gray/40 fixed bottom-5 right-5 hover:bg-primary_gray/40 transition-colors duration-300 animate-in fade-in zoom-in"
  id="topLink"
  style="display: none;"
  ><Sprite name="icon-park-outline:up" class="block w-5 h-5" /></button
>

<script is:inline>
  const topLink = document.getElementById("topLink");

  if (topLink) {
    topLink.addEventListener("click", function (event) {
      event.preventDefault();
      window.scrollTo({
        top: 0,
        behavior: "smooth",
      });
    });

    window.addEventListener("scroll", function () {

      const scrollPercentage =
        (window.scrollY /
          (document.documentElement.scrollHeight - window.innerHeight)) *
        100;

      if (scrollPercentage > 40) {
        topLink.style.display = "block";
      } else {
        topLink.style.display = "none"; 
      }
    });
  }
</script>
