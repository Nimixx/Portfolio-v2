---
import { Sprite } from 'astro-icon'
---

<button
  class="fixed bottom-5 right-5 rounded-lg border border-primary_light bg-primary_light/20 p-2 transition-colors hover:bg-primary_light/40 bounceIn"
  id="topLink"
  style="display: none;"><Sprite name="icon-park-outline:up" class="block h-5 w-5" /></button
>

<script>
  const topLink = document.getElementById('topLink')

  if (topLink) {
    topLink.addEventListener('click', function (event) {
      event.preventDefault()
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      })
    })

    window.addEventListener('scroll', function () {
      const scrollPercentage =
        (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100

      if (scrollPercentage > 40) {
        topLink.style.display = 'block'
      } else {
        topLink.style.display = 'none'
      }
    })
  }
</script>
